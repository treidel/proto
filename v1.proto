package project;

option optimize_for = LITE_RUNTIME;

enum LevelType
{
  NONE = 0;
  PEAK = 1;
  VU = 2;
}

message SetLevelRequestV1
{
  required LevelType leveltype = 1; 
}

message SetLevelResponseV1
{
}

message QueryAudioChannelsRequestV1
{
}

message QueryAudioChannelsResponseV1
{
  repeated uint32 channels = 1;
}

message RequestV1
{
  enum RequestType
  {
    SETLEVEL = 1;
    QUERYAUDIOCHANNELS = 2;
  }

  required RequestType type = 1;
  optional SetLevelRequestV1 setlevel = 2;
  optional QueryAudioChannelsRequestV1 queryaudiochannels = 3;
} 

message ResponseV1
{
  required bool success = 1;
  optional SetLevelResponseV1 setlevel = 2;
  optional QueryAudioChannelsResponseV1 queryaudiochannels = 3;
}

message LevelNotificationV1
{
  repeated int32 levelInDecibels = 1;
}


message NotificationV1
{
  optional LevelNotificationV1 level = 1;
}

message ResponseOrNotificationV1
{
  optional ResponseV1 response = 1;
  optional NotificationV1 notification = 2;
}
